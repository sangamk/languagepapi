*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0a0a0a;
  --fg:#e8e8e8;
  --accent:#00ff88;
  --dim:#666;
  --card:#151515;
  --border:#333;
  --again:#ff4444;
  --hard:#ff8844;
  --good:#00ff88;
  --easy:#4488ff;
}
html{font:16px/1.5 "SF Mono",Monaco,Consolas,monospace;background:var(--bg);color:var(--fg)}
body{min-height:100dvh;padding:1rem;max-width:480px;margin:0 auto}
.container{display:flex;flex-direction:column;gap:2rem;padding-top:2rem}
.header{text-align:center}
.logo{font-size:1.5rem;font-weight:700;letter-spacing:-.02em;color:var(--accent)}
.tagline{color:var(--dim);font-size:.875rem;margin-top:.25rem}
.nav{display:flex;gap:.5rem;justify-content:center;flex-wrap:wrap}
.btn{
  display:inline-flex;
  align-items:center;
  gap:.5rem;
  padding:.75rem 1.25rem;
  background:var(--card);
  border:1px solid var(--border);
  color:var(--fg);
  text-decoration:none;
  font-size:.875rem;
  cursor:pointer;
  font-family:inherit;
  transition:border-color .15s,color .15s,background .15s;
}
.btn:hover,.btn:focus{border-color:var(--accent);color:var(--accent);outline:none}
.btn-primary{border-color:var(--accent);color:var(--accent)}
.btn-primary:hover{background:var(--accent);color:var(--bg)}
.btn-small{padding:.5rem .75rem;font-size:.75rem}
.badge{
  background:var(--accent);
  color:var(--bg);
  font-size:.7rem;
  padding:.1rem .4rem;
  border-radius:2px;
  font-weight:700;
}
.stats{display:flex;justify-content:center;gap:2rem}
.stat{text-align:center}
.stat-num{display:block;font-size:2rem;font-weight:700;color:var(--accent)}
.stat-label{font-size:.75rem;color:var(--dim);text-transform:uppercase;letter-spacing:.1em}

/* Practice Container */
.practice-container{
  display:flex;
  flex-direction:column;
  gap:1.5rem;
  padding-top:1rem;
  min-height:calc(100dvh - 3rem);
}

.practice-header{display:flex;flex-direction:column;gap:.5rem}
.practice-meta{display:flex;justify-content:space-between;font-size:.75rem;color:var(--dim)}
.practice-mode{color:var(--accent)}

/* Progress Bar */
.progress-bar{
  position:relative;
  height:4px;
  background:var(--border);
  border-radius:2px;
  overflow:hidden;
}
.progress-fill{
  height:100%;
  background:var(--accent);
  transition:width .3s ease;
}
.progress-text{
  font-size:.75rem;
  color:var(--dim);
}

/* Flashcard */
.card{
  flex:1;
  perspective:1000px;
  cursor:pointer;
  min-height:300px;
}
.card-inner{
  position:relative;
  width:100%;
  height:100%;
  min-height:300px;
  transition:transform .4s ease;
  transform-style:preserve-3d;
}
.card.flipped .card-inner{
  transform:rotateY(180deg);
}
.card-front,.card-back{
  position:absolute;
  width:100%;
  height:100%;
  min-height:300px;
  backface-visibility:hidden;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:1rem;
  padding:2rem;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:4px;
}
.card-back{
  transform:rotateY(180deg);
}
.card-term{
  font-size:2rem;
  font-weight:700;
  text-align:center;
  color:var(--accent);
}
.card-hint{
  font-size:.75rem;
  color:var(--dim);
}
.card-translation{
  font-size:1.25rem;
  text-align:center;
  color:var(--fg);
}
.card-example{
  font-size:.875rem;
  font-style:italic;
  color:var(--dim);
  text-align:center;
}

/* Reverse card styling */
.reverse-prompt{color:var(--fg)}
.reverse-answer{font-size:1rem;color:var(--dim)}

/* Bridges */
.bridges{
  display:flex;
  flex-direction:column;
  gap:.5rem;
  width:100%;
  margin-top:1rem;
}
.bridge{
  display:flex;
  gap:.5rem;
  padding:.5rem;
  background:var(--bg);
  border-radius:2px;
  font-size:.75rem;
}
.bridge-type{
  font-weight:700;
  text-transform:uppercase;
  letter-spacing:.05em;
}
.bridge-hindi_phonetic .bridge-type{color:#ff9966}
.bridge-dutch_syntax .bridge-type{color:#ff6699}
.bridge-english_cognate .bridge-type{color:#6699ff}
.bridge-content{color:var(--fg)}
.no-bridges{color:var(--dim);font-size:.75rem;text-align:center}

/* Rating Buttons */
.rating-buttons{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:.5rem;
}
.rating-btn{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:.25rem;
  padding:.75rem .5rem;
  background:var(--card);
  border:1px solid var(--border);
  color:var(--fg);
  cursor:pointer;
  font-family:inherit;
  transition:all .15s;
  position:relative;
}
.rating-btn:hover{
  transform:translateY(-2px);
}
.rating-btn:active{
  transform:translateY(0);
}
.rating-label{
  font-size:.875rem;
  font-weight:600;
}
.rating-interval{
  font-size:.7rem;
  color:var(--dim);
}
.rating-key{
  position:absolute;
  top:2px;
  right:4px;
  font-size:.6rem;
  color:var(--dim);
  opacity:.5;
}
.rating-again{border-color:var(--again)}
.rating-again:hover{background:var(--again);color:var(--bg)}
.rating-hard{border-color:var(--hard)}
.rating-hard:hover{background:var(--hard);color:var(--bg)}
.rating-good{border-color:var(--good)}
.rating-good:hover{background:var(--good);color:var(--bg)}
.rating-easy{border-color:var(--easy)}
.rating-easy:hover{background:var(--easy);color:var(--bg)}

/* Skip button */
.skip-container{text-align:center;margin-top:.5rem}
.btn-skip{
  background:transparent;
  border:1px solid var(--border);
  color:var(--dim);
  padding:.5rem 1rem;
  font-size:.75rem;
  cursor:pointer;
  font-family:inherit;
}
.btn-skip:hover{color:var(--fg);border-color:var(--fg)}

/* Keyboard hint */
.keyboard-hint{
  text-align:center;
  font-size:.65rem;
  color:var(--dim);
  opacity:.5;
}

/* Typing mode */
.typing-card{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:2rem;
  padding:2rem;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:4px;
}
.typing-prompt{text-align:center}
.typing-form{display:flex;flex-direction:column;gap:1rem;width:100%}
.typing-input{
  width:100%;
  padding:1rem;
  background:var(--bg);
  border:2px solid var(--border);
  color:var(--fg);
  font-family:inherit;
  font-size:1.25rem;
  text-align:center;
}
.typing-input:focus{outline:none;border-color:var(--accent)}
.typing-result{text-align:center;font-size:1rem;min-height:1.5rem}
.typing-result.correct{color:var(--good)}
.typing-result.incorrect{color:var(--again)}

/* Mode selector */
.mode-selector{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:2rem;
  text-align:center;
}
.mode-selector h2{font-size:1.25rem}
.due-info{color:var(--dim);font-size:.875rem}
.mode-options{display:flex;flex-direction:column;gap:1rem;width:100%}
.mode-card{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:.5rem;
  padding:1.5rem;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:4px;
  text-decoration:none;
  color:var(--fg);
  transition:all .15s;
}
.mode-card:hover{border-color:var(--accent);transform:translateY(-2px)}
.mode-icon{font-size:2rem}
.mode-name{font-weight:700;color:var(--accent)}
.mode-desc{font-size:.75rem;color:var(--dim)}
.mode-back{margin-top:1rem}

/* Complete Screen */
.complete-screen{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:2rem;
  text-align:center;
  position:relative;
  overflow:hidden;
}
.complete-title{
  font-size:1.5rem;
  font-weight:700;
  color:var(--accent);
}
.complete-stats{
  display:flex;
  gap:2rem;
}
.complete-stat{
  text-align:center;
}
.complete-num{
  display:block;
  font-size:2rem;
  font-weight:700;
  color:var(--fg);
}
.complete-num.xp-earned{
  color:var(--accent);
}
.complete-label{
  font-size:.75rem;
  color:var(--dim);
  text-transform:uppercase;
}
.complete-accuracy{
  font-size:1rem;
  color:var(--dim);
}
.complete-actions{
  display:flex;
  gap:1rem;
}

/* Celebration confetti */
.celebration{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden}
.confetti{
  position:absolute;
  width:10px;
  height:10px;
  top:-10px;
  animation:confetti-fall 3s linear forwards;
}
@keyframes confetti-fall{
  0%{transform:translateY(0) rotate(0deg);opacity:1}
  100%{transform:translateY(100vh) rotate(720deg);opacity:0}
}

/* New achievements */
.new-achievements{
  display:flex;
  flex-direction:column;
  gap:.5rem;
  padding:1rem;
  background:rgba(0,255,136,.1);
  border:1px solid var(--accent);
  border-radius:4px;
}
.new-achievements h3{font-size:.875rem;color:var(--accent)}
.achievement-unlocked{display:flex;align-items:center;gap:.5rem}
.achievement-icon{font-size:1.5rem}
.achievement-name{font-weight:600}

/* Empty State */
.empty-state{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:1rem;
  text-align:center;
}
.empty-state h2{
  font-size:1.25rem;
  color:var(--fg);
}
.empty-state p{
  color:var(--dim);
}
.empty-actions{
  display:flex;
  gap:1rem;
  margin-top:1rem;
}

/* Session Stats */
.session-stats{
  display:flex;
  justify-content:space-between;
  font-size:.75rem;
  color:var(--dim);
}
.session-stats .xp{
  color:var(--accent);
}

/* Words Page */
.words-page{
  display:flex;
  flex-direction:column;
  gap:1rem;
  padding-top:1rem;
  min-height:calc(100dvh - 2rem);
}
.page-header{
  display:flex;
  align-items:center;
  gap:1rem;
}
.page-header h1{
  font-size:1.25rem;
  flex:1;
}
.back-link{
  color:var(--dim);
  text-decoration:none;
  font-size:.875rem;
}
.back-link:hover{
  color:var(--accent);
}
.word-count{
  font-size:.75rem;
  color:var(--dim);
}

/* Search bar */
.search-bar{margin-bottom:.5rem}
.search-input{
  width:100%;
  padding:.75rem;
  background:var(--card);
  border:1px solid var(--border);
  color:var(--fg);
  font-family:inherit;
  font-size:.875rem;
}
.search-input:focus{outline:none;border-color:var(--accent)}
.search-input::placeholder{color:var(--dim)}

.filters{
  display:flex;
  gap:.5rem;
  align-items:center;
}
.island-filter{
  flex:1;
  padding:.5rem;
  background:var(--card);
  border:1px solid var(--border);
  color:var(--fg);
  font-family:inherit;
  font-size:.875rem;
  cursor:pointer;
}
.island-filter:focus{
  outline:none;
  border-color:var(--accent);
}
.words-list{
  display:flex;
  flex-direction:column;
  gap:.5rem;
}
.word-card{
  display:flex;
  align-items:center;
  gap:1rem;
  padding:.75rem 1rem;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:2px;
}
.word-main{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:.125rem;
}
.word-term{
  font-weight:600;
  color:var(--accent);
}
.word-translation{
  font-size:.875rem;
  color:var(--fg);
}
.word-meta{
  display:flex;
  align-items:center;
  gap:.5rem;
}
.word-rank{
  font-size:.7rem;
  color:var(--dim);
}
.btn-icon{
  background:none;
  border:none;
  color:var(--dim);
  cursor:pointer;
  font-size:1.25rem;
  line-height:1;
  padding:.25rem;
}
.btn-icon:hover{
  color:var(--fg);
}
.btn-delete:hover{color:var(--again)}
.btn-edit:hover{color:var(--accent)}
.pagination{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:1rem;
  padding:1rem 0;
}
.page-info{
  font-size:.875rem;
  color:var(--dim);
}

/* Add Page */
.add-page{
  display:flex;
  flex-direction:column;
  gap:1.5rem;
  padding-top:1rem;
  min-height:calc(100dvh - 2rem);
}
.add-form,.settings-form{
  display:flex;
  flex-direction:column;
  gap:1rem;
}
.form-group{
  display:flex;
  flex-direction:column;
  gap:.25rem;
}
.form-group label{
  font-size:.75rem;
  color:var(--dim);
  text-transform:uppercase;
  letter-spacing:.05em;
}
.form-group input,
.form-group select{
  padding:.75rem;
  background:var(--card);
  border:1px solid var(--border);
  color:var(--fg);
  font-family:inherit;
  font-size:1rem;
}
.form-group input:focus,
.form-group select:focus{
  outline:none;
  border-color:var(--accent);
}
.form-group input::placeholder{
  color:var(--dim);
}
.form-group .hint{
  font-size:.7rem;
  color:var(--dim);
}

/* Checkbox styling */
.checkbox-group{flex-direction:row;align-items:center}
.checkbox-label{
  display:flex;
  align-items:center;
  gap:.5rem;
  cursor:pointer;
  font-size:.875rem;
}
.checkbox-label input[type="checkbox"]{
  width:1.25rem;
  height:1.25rem;
  accent-color:var(--accent);
}

/* Input with action button */
.input-with-action{display:flex;gap:.5rem}
.input-with-action input{flex:1}

.bridges-section{
  margin-top:.5rem;
}
.bridges-section summary{
  cursor:pointer;
  color:var(--dim);
  font-size:.875rem;
}
.bridges-section summary:hover{
  color:var(--accent);
}
.bridges-form{
  display:flex;
  flex-direction:column;
  gap:1rem;
  margin-top:1rem;
  padding:1rem;
  background:var(--card);
  border:1px solid var(--border);
}
.bridges-section-edit{margin-top:1rem}
.bridges-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}
.bridges-header h3{font-size:.875rem;color:var(--dim)}

.form-actions{
  display:flex;
  gap:1rem;
  margin-top:1rem;
}
.form-actions .btn{
  flex:1;
  justify-content:center;
}

/* Toast Messages */
.toast{
  padding:1rem;
  border-radius:2px;
  font-size:.875rem;
  text-align:center;
}
.toast-success{
  background:rgba(0,255,136,.1);
  border:1px solid var(--accent);
  color:var(--accent);
}
.toast-error{
  background:rgba(255,68,68,.1);
  border:1px solid var(--again);
  color:var(--again);
}

/* Settings Page */
.settings-page{
  display:flex;
  flex-direction:column;
  gap:1.5rem;
  padding-top:1rem;
  min-height:calc(100dvh - 2rem);
}
.settings-section{
  padding:1rem;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:4px;
}
.settings-section h2{
  font-size:.875rem;
  color:var(--accent);
  margin-bottom:1rem;
  text-transform:uppercase;
  letter-spacing:.05em;
}
.settings-section .form-group{margin-bottom:.75rem}
.settings-section .form-group:last-child{margin-bottom:0}

/* Calendar */
.cal{display:flex;flex-direction:column;gap:1rem;padding:1rem 0}
.cal-stats{display:flex;justify-content:space-around;padding:1rem;background:var(--card);border:1px solid var(--border)}
.cal-stat{text-align:center}
.cal-stat b{display:block;font-size:1.5rem;color:var(--accent)}
.cal-stat small{font-size:.7rem;color:var(--dim);text-transform:uppercase}
.cal-stat .fire{font-size:1.25rem}
.heatmap{background:var(--card);border:1px solid var(--border);padding:1rem;overflow-x:auto}
.heatmap h2{font-size:.875rem;margin-bottom:.75rem}
.hm-grid{display:flex;flex-direction:column;gap:2px}
.hm-row{display:flex;gap:2px}
.hm-cell{width:11px;height:11px;border-radius:2px}
.hm-cell:hover{outline:1px solid var(--fg)}
.l0{background:#161622}.l1{background:#0d4d2e}.l2{background:#1a7a4a}.l3{background:#00cc66}.l4{background:var(--accent)}
.lf{background:transparent}
.hm-legend{display:flex;gap:4px;justify-content:flex-end;margin-top:.5rem;font-size:.6rem;color:var(--dim);align-items:center}
.badges{background:var(--card);border:1px solid var(--border);padding:1rem}
.badges h2{font-size:.875rem;margin-bottom:.75rem}
.badge-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:.5rem}
.bdg{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:var(--bg);border-radius:4px;opacity:.4}
.bdg.earned{opacity:1;background:rgba(0,255,136,.05);border:1px solid rgba(0,255,136,.15)}
.bdg-icon{font-size:1.25rem}
.bdg-info{flex:1;min-width:0}
.bdg-name{font-size:.75rem;font-weight:600;display:block}
.bdg-desc{font-size:.65rem;color:var(--dim)}

/* HTMX loading indicator */
.htmx-indicator{display:none}
.htmx-request .htmx-indicator{display:inline}
.htmx-request.htmx-indicator{display:inline}
.ai-loading{
  color:var(--accent);
  font-size:.75rem;
  padding:.5rem;
}
